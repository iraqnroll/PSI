[{"C:\\FINAL\\psi-frontend\\src\\index.js":"1","C:\\FINAL\\psi-frontend\\src\\App.js":"2","C:\\FINAL\\psi-frontend\\src\\reportWebVitals.js":"3","C:\\FINAL\\psi-frontend\\src\\services\\authService.js":"4","C:\\FINAL\\psi-frontend\\src\\components\\logout.jsx":"5","C:\\FINAL\\psi-frontend\\src\\components\\loginForm.jsx":"6","C:\\FINAL\\psi-frontend\\src\\components\\navBar.jsx":"7","C:\\FINAL\\psi-frontend\\src\\components\\Home.jsx":"8","C:\\FINAL\\psi-frontend\\src\\components\\receipts.jsx":"9","C:\\FINAL\\psi-frontend\\src\\components\\receiptDetails.jsx":"10","C:\\FINAL\\psi-frontend\\src\\components\\receiptForm.jsx":"11","C:\\FINAL\\psi-frontend\\src\\components\\notFound.jsx":"12","C:\\FINAL\\psi-frontend\\src\\components\\userStats.jsx":"13","C:\\FINAL\\psi-frontend\\src\\components\\dealPage.jsx":"14","C:\\FINAL\\psi-frontend\\src\\components\\shoppingForm.jsx":"15","C:\\FINAL\\psi-frontend\\src\\components\\common\\protectedRoute.jsx":"16","C:\\FINAL\\psi-frontend\\src\\services\\httpService.js":"17","C:\\FINAL\\psi-frontend\\src\\services\\receiptService.js":"18","C:\\FINAL\\psi-frontend\\src\\services\\userStatsService.js":"19","C:\\FINAL\\psi-frontend\\src\\services\\itemService.js":"20","C:\\FINAL\\psi-frontend\\src\\services\\itemPriceService.js":"21","C:\\FINAL\\psi-frontend\\src\\services\\shoppingCartService.js":"22","C:\\FINAL\\psi-frontend\\src\\components\\common\\listGroup.jsx":"23","C:\\FINAL\\psi-frontend\\src\\components\\receiptTable.jsx":"24","C:\\FINAL\\psi-frontend\\src\\components\\common\\form.jsx":"25","C:\\FINAL\\psi-frontend\\src\\components\\common\\pagination.jsx":"26","C:\\FINAL\\psi-frontend\\src\\components\\common\\select.jsx":"27","C:\\FINAL\\psi-frontend\\src\\components\\itemPriceForm.jsx":"28","C:\\FINAL\\psi-frontend\\src\\components\\itemPriceTable.jsx":"29","C:\\FINAL\\psi-frontend\\src\\components\\shoppingCartForm.jsx":"30","C:\\FINAL\\psi-frontend\\src\\components\\dealTable.jsx":"31","C:\\FINAL\\psi-frontend\\src\\components\\shoppingCartPage.jsx":"32","C:\\FINAL\\psi-frontend\\src\\components\\common\\table.jsx":"33","C:\\FINAL\\psi-frontend\\src\\components\\common\\input.jsx":"34","C:\\FINAL\\psi-frontend\\src\\components\\shoppingCartTable.jsx":"35","C:\\FINAL\\psi-frontend\\src\\components\\common\\tableBody.jsx":"36","C:\\FINAL\\psi-frontend\\src\\components\\common\\tableHeader.jsx":"37","C:\\FINAL\\psi-frontend\\src\\components\\userDetails.jsx":"38","C:\\FINAL\\psi-frontend\\src\\components\\priceHistory.jsx":"39","C:\\FINAL\\psi-frontend\\src\\components\\registerForm.jsx":"40","C:\\FINAL\\psi-frontend\\src\\services\\userService.js":"41","C:\\FINAL\\psi-frontend\\src\\services\\jokeService.js":"42"},{"size":419,"mtime":1608403185000,"results":"43","hashOfConfig":"44"},{"size":2158,"mtime":1608577737155,"results":"45","hashOfConfig":"44"},{"size":362,"mtime":1608403185000,"results":"46","hashOfConfig":"44"},{"size":926,"mtime":1608545107000,"results":"47","hashOfConfig":"44"},{"size":249,"mtime":1608403185000,"results":"48","hashOfConfig":"44"},{"size":1289,"mtime":1608403185000,"results":"49","hashOfConfig":"44"},{"size":1910,"mtime":1608577710364,"results":"50","hashOfConfig":"44"},{"size":471,"mtime":1608581215162,"results":"51","hashOfConfig":"44"},{"size":4402,"mtime":1608577808438,"results":"52","hashOfConfig":"44"},{"size":3137,"mtime":1608403185000,"results":"53","hashOfConfig":"44"},{"size":5511,"mtime":1608575980046,"results":"54","hashOfConfig":"44"},{"size":111,"mtime":1608403185000,"results":"55","hashOfConfig":"44"},{"size":6124,"mtime":1608578112988,"results":"56","hashOfConfig":"44"},{"size":3070,"mtime":1608576315147,"results":"57","hashOfConfig":"44"},{"size":4343,"mtime":1608409286373,"results":"58","hashOfConfig":"44"},{"size":622,"mtime":1608403185000,"results":"59","hashOfConfig":"44"},{"size":520,"mtime":1608545107000,"results":"60","hashOfConfig":"44"},{"size":2718,"mtime":1608545107000,"results":"61","hashOfConfig":"44"},{"size":3552,"mtime":1608545107000,"results":"62","hashOfConfig":"44"},{"size":251,"mtime":1608545107000,"results":"63","hashOfConfig":"44"},{"size":2671,"mtime":1608545107000,"results":"64","hashOfConfig":"44"},{"size":2986,"mtime":1608578769331,"results":"65","hashOfConfig":"44"},{"size":748,"mtime":1608574835163,"results":"66","hashOfConfig":"44"},{"size":1482,"mtime":1608403185000,"results":"67","hashOfConfig":"44"},{"size":2305,"mtime":1608403185000,"results":"68","hashOfConfig":"44"},{"size":1028,"mtime":1608574841053,"results":"69","hashOfConfig":"44"},{"size":567,"mtime":1608403185000,"results":"70","hashOfConfig":"44"},{"size":1705,"mtime":1608405207901,"results":"71","hashOfConfig":"44"},{"size":518,"mtime":1608403185000,"results":"72","hashOfConfig":"44"},{"size":1598,"mtime":1608407373494,"results":"73","hashOfConfig":"44"},{"size":1110,"mtime":1608576263702,"results":"74","hashOfConfig":"44"},{"size":5107,"mtime":1608578586381,"results":"75","hashOfConfig":"44"},{"size":395,"mtime":1608569968805,"results":"76","hashOfConfig":"44"},{"size":367,"mtime":1608403185000,"results":"77","hashOfConfig":"44"},{"size":762,"mtime":1608559110003,"results":"78","hashOfConfig":"44"},{"size":969,"mtime":1608558947059,"results":"79","hashOfConfig":"44"},{"size":1295,"mtime":1608403185000,"results":"80","hashOfConfig":"44"},{"size":1553,"mtime":1608578160767,"results":"81","hashOfConfig":"44"},{"size":3460,"mtime":1608578146377,"results":"82","hashOfConfig":"44"},{"size":1481,"mtime":1608576542778,"results":"83","hashOfConfig":"44"},{"size":629,"mtime":1608545107000,"results":"84","hashOfConfig":"44"},{"size":462,"mtime":1608580782882,"results":"85","hashOfConfig":"44"},{"filePath":"86","messages":"87","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},"10fy0bs",{"filePath":"89","messages":"90","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"91","messages":"92","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"93","messages":"94","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"95","usedDeprecatedRules":"88"},{"filePath":"96","messages":"97","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"98","messages":"99","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"100","messages":"101","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"102","messages":"103","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"104","messages":"105","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"106","messages":"107","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"108","messages":"109","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"110","usedDeprecatedRules":"88"},{"filePath":"111","messages":"112","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"113","messages":"114","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"115","messages":"116","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"117","usedDeprecatedRules":"88"},{"filePath":"118","messages":"119","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"120","usedDeprecatedRules":"88"},{"filePath":"121","messages":"122","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"123","messages":"124","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"125","usedDeprecatedRules":"88"},{"filePath":"126","messages":"127","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"128","messages":"129","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"130","usedDeprecatedRules":"88"},{"filePath":"131","messages":"132","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"133","messages":"134","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"135","messages":"136","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"137","messages":"138","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"139","messages":"140","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"141","messages":"142","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"143","messages":"144","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"145","messages":"146","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"147","messages":"148","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"149","messages":"150","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"151","messages":"152","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"153","messages":"154","errorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"155","usedDeprecatedRules":"88"},{"filePath":"156","messages":"157","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"158","messages":"159","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"160","messages":"161","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"162","messages":"163","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"164","usedDeprecatedRules":"88"},{"filePath":"165","messages":"166","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"167","messages":"168","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"88"},{"filePath":"169","messages":"170","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"171","messages":"172","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"173","messages":"174","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"175","messages":"176","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"177","messages":"178","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\FINAL\\psi-frontend\\src\\index.js",[],["179","180"],"C:\\FINAL\\psi-frontend\\src\\App.js",[],"C:\\FINAL\\psi-frontend\\src\\reportWebVitals.js",[],"C:\\FINAL\\psi-frontend\\src\\services\\authService.js",["181"],"import jwtDecode from \"jwt-decode\";\nimport http from \"./httpService\";\n\nconst apiEndpoint = \"https://localhost:5001/auth/login\";\nconst tokenKey = \"token\";\n\n//http.setJwt(getJwt());\n\nexport async function login(username, password) {\n  const { data: jwt } = await http.post(apiEndpoint, { username, password });\n  localStorage.setItem(tokenKey, jwt.data);\n}\n\nexport function loginWithJwt(jwt) {\n  localStorage.setItem(tokenKey, jwt);\n}\n\nexport function logout() {\n  localStorage.removeItem(tokenKey);\n}\n\nexport function getCurrentUser() {\n  try {\n    const jwt = localStorage.getItem(tokenKey);\n    return jwtDecode(jwt);\n  } catch (ex) {\n    return null;\n  }\n}\n\nexport function getJwt() {\n  return localStorage.getItem(tokenKey);\n}\n\nexport const config = {\n  headers: { Authorization: `Bearer ${localStorage.getItem(tokenKey)}` },\n};\n\nexport default {\n  login,\n  loginWithJwt,\n  logout,\n  getCurrentUser,\n  getJwt,\n  config,\n};\n","C:\\FINAL\\psi-frontend\\src\\components\\logout.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\loginForm.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\navBar.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\Home.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\receipts.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\receiptDetails.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\receiptForm.jsx",["182"],"import React, { Component } from \"react\";\nimport ItemPriceForm from \"./itemPriceForm\";\nimport { getItems } from \"../services/itemService\";\nimport { getReceiptRaw, updateReceipt } from \"../services/receiptService\";\nimport Select from \"./common/select\";\nimport {\n  updateItemPrice,\n  addItemPrice,\n  deleteItemPrice,\n} from \"../services/itemPriceService\";\n\nclass ReceiptForm extends Component {\n  state = {\n    types: [],\n    items: [],\n    data: { itemPrices: [] },\n    deleted: [],\n    index: \"a\",\n    validate: false,\n    shops: [],\n  };\n\n  async componentDidMount() {\n    const itemPrices = await getReceiptRaw(this.props.match.params.id);\n    try {\n      const types = [\n        { id: 1, name: \"Mesos gaminiai\" },\n        { id: 2, name: \"Juros gerybes\" },\n        { id: 3, name: \"Kepiniai\" },\n        { id: 4, name: \"Darzoves\" },\n        { id: 5, name: \"Vaisiai\" },\n        { id: 6, name: \"Pieno produktai\" },\n        { id: 7, name: \"Gerimai\" },\n        { id: 8, name: \"Saldumynai\" },\n        { id: 9, name: \"Uzkandziai\" },\n      ];\n      const shops = [\n        { id: 1, name: \"Iki\" },\n        { id: 2, name: \"Norfa\" },\n        { id: 3, name: \"Rimi\" },\n        { id: 4, name: \"Lidl\" },\n        { id: 5, name: \"Maxima\" },\n      ];\n\n      const items = await getItems();\n      this.setState({ types, items, data: itemPrices, shops });\n      this.validate();\n    } catch (ex) {\n      this.props.history.replace(\"/not-found\");\n    }\n  }\n\n  validate() {\n    let validate = true;\n    this.state.data.shop > 0\n      ? this.state.data.itemPrices.forEach((e) =>\n          e.price <= 0 || !e.item.id || !e.item.type\n            ? (validate = false)\n            : (validate = validate)\n        )\n      : (validate = false);\n    this.setState({ validate });\n  }\n\n  updateData = (id, name, value) => {\n    const data = { ...this.state.data };\n    data.itemPrices.map((x) => this.changeData(x, id, name, value));\n    this.setState({ data });\n    this.validate();\n  };\n  handleSave = async () => {\n    if (this.state.modified)\n      await updateReceipt(parseInt(this.state.data.shop), this.state.data.id);\n    await this.state.deleted.forEach(async (x) => await deleteItemPrice(x));\n    const data = { ...this.state.data };\n    await data.itemPrices.forEach(async (x) => await this.saving(x));\n    window.location = \"/receipts\";\n  };\n\n  async saving(x) {\n    if (x.modified) {\n      await updateItemPrice(x.id, x.item.id, x.price, x.receiptId);\n    }\n    if (x.new) {\n      await addItemPrice(x.item.id, x.price, x.receiptId);\n    }\n  }\n\n  handleAdd = () => {\n    const data = { ...this.state.data };\n    const index = this.state.index;\n    const itemPrice = {\n      id: index,\n      item: { id: \"\" },\n      new: true,\n      type: \"\",\n      price: 0,\n      receiptId: this.state.data.id,\n    };\n    data.itemPrices.push(itemPrice);\n    const newIndex = index + \"a\";\n    this.setState({ data, index: newIndex });\n    this.validate();\n  };\n\n  handleShopChange = ({ currentTarget: input }) => {\n    const selectedShop = input.value;\n    let data = { ...this.state.data };\n    data.shop = selectedShop;\n    this.setState({ data, modified: true }, this.validate);\n  };\n\n  handleDelete = (id) => {\n    let deleted = [...this.state.deleted];\n    deleted.push(id);\n    const data = { ...this.state.data };\n    const filtered = data.itemPrices.filter((itemPrice) => itemPrice.id !== id);\n    data.itemPrices = filtered;\n    this.setState({ data, deleted });\n  };\n\n  changeData(a, id, name, value) {\n    if (a.id === id) {\n      switch (name) {\n        case \"name\":\n          a.item.id = parseFloat(value);\n          break;\n        case \"price\":\n          a.price = parseFloat(value);\n          break;\n        case \"type\":\n          a.item.type = parseFloat(value);\n          break;\n        default:\n      }\n      !a.new && (a.modified = true);\n      return a;\n    }\n    return a;\n  }\n\n  render() {\n    const { items, types, data } = this.state;\n\n    return (\n      \n        \n        <div class =\"Box_content\" >\n          <h1>Receipt Nr.{this.props.match.params.id}</h1>\n\n          <h2>Shop: </h2>\n          <Select\n            test={false}\n            name=\"shops\"\n            value={this.state.data.shop}\n            label=\"Shops\"\n            options={this.state.shops}\n            onChange={this.handleShopChange}\n          />\n\n          <div>\n            {this.state.validate ? (\n              <button\n                className=\"btn btn-primary btn-lg\"\n                onClick={this.handleSave}\n              >\n                Save\n              </button>\n            ) : (\n              <button className=\"btn btn-lg btn-primary\" disabled>\n                Save\n              </button>\n            )}\n            </div>\n           \n       \n\n        {data.itemPrices.map((itemPrice) => (\n          <ItemPriceForm\n            id={itemPrice.id}\n            items={items}\n            types={types}\n            key={itemPrice.id}\n            selectedName={itemPrice.item.id}\n            selectedPrice={itemPrice.price}\n            selectedType={itemPrice.item.type}\n            updateData={this.updateData}\n            onDelete={() => this.handleDelete(itemPrice.id)}\n          />\n        ))}\n        {this.state.validate ? (\n          <button className=\"btn btn-secondary btn-lg\" onClick={this.handleAdd}>\n            +\n          </button>\n        ) : (\n          <button className=\"btn btn-lg btn-secondary\" disabled>\n            +\n          </button>\n            )}\n      </div>\n\n\n      \n    );\n  }\n}\n\nexport default ReceiptForm;\n","C:\\FINAL\\psi-frontend\\src\\components\\notFound.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\userStats.jsx",["183"],"C:\\FINAL\\psi-frontend\\src\\components\\dealPage.jsx",["184"],"import React, { Component } from \"react\";\r\nimport { getDeals } from \"../services/shoppingCartService\";\r\nimport ListGroup from \"./common/listGroup\";\r\nimport DealTable from \"./dealTable\";\r\nimport _ from \"lodash\";\r\nimport Pagination from \"./common/pagination\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Deals extends Component {\r\n  state = {\r\n    receipts: [],\r\n    sortColumn: { path: \"Shop\", order: \"asc\" },\r\n    shops: [],\r\n    selectedShop: null,\r\n    pageSize: 10,\r\n    activePage: 1,\r\n  };\r\n\r\n  async componentDidMount() {\r\n    const receipts = await getDeals();\r\n    const shops = [\r\n      { id: 0, name: \"All Shops\" },\r\n      { id: 1, name: \"Iki\" },\r\n      { id: 2, name: \"Norfa\" },\r\n      { id: 3, name: \"Rimi\" },\r\n      { id: 4, name: \"Lidl\" },\r\n      { id: 5, name: \"Maxima\" },\r\n    ];\r\n    this.setState({ receipts, shops });\r\n  }\r\n\r\n  handleShopSelect = (shop) => {\r\n    this.setState({ selectedShop: shop });\r\n  };\r\n\r\n  handleSort = (sortColumn) => {\r\n    this.setState({ sortColumn });\r\n  };\r\n\r\n  handlePageChange = (page) => {\r\n    this.setState({ activePage: page });\r\n  };\r\n\r\n  handleInfo(props) {\r\n    props.history.push(\"/\");\r\n  }\r\n  \r\n\r\n  paginate(items, pageNumber, pageSize) {\r\n    const startIndex = (pageNumber - 1) * pageSize;\r\n    return _(items).slice(startIndex).take(pageSize).value();\r\n  }\r\n\r\n  getPagedData() {\r\n    const {\r\n      activePage,\r\n      pageSize,\r\n      receipts: allReceipts,\r\n      selectedShop,\r\n      sortColumn,\r\n    } = this.state;\r\n\r\n    let filtered = allReceipts;\r\n    if (selectedShop && selectedShop.id !== 0)\r\n      filtered = allReceipts.filter(\r\n        (receipt) => receipt.shop === selectedShop.name\r\n      );\r\n    \r\n    const sorted = _.orderBy(filtered, [sortColumn.path], [sortColumn.order]);\r\n\r\n    const receipts = this.paginate(sorted, activePage, pageSize);\r\n     console.log({ totalCount: filtered.length, data: receipts });\r\n    return { totalCount: filtered.length, data: receipts };\r\n  }\r\n  \r\n\r\n  render() {\r\n    \r\n    const { sortColumn, pageSize, activePage } = this.state;\r\n    const { totalCount, data: receipts } = this.getPagedData();\r\n    return (\r\n      <div className=\"Box\">\r\n        <p className=\"Box_content\">\r\n        <h1 className=\"m-2\">Best Deals</h1>\r\n        <div className=\"row\">\r\n          <div className=\"col-3 \">\r\n            <ListGroup\r\n              items={this.state.shops}\r\n              selectedItem={this.state.selectedShop}\r\n              onItemSelect={this.handleShopSelect}\r\n            />\r\n          </div>\r\n          <div className=\"col\">\r\n            <DealTable\r\n              getTrProps={this.getTRPropsType}  \r\n              receipts={receipts}\r\n              onSort={this.handleSort}\r\n              sortColumn={sortColumn}\r\n            />\r\n            <Pagination\r\n              itemsCount={totalCount}\r\n              pageSize={pageSize}\r\n              onPageChange={this.handlePageChange}\r\n              activePage={activePage}\r\n            />\r\n          </div>\r\n          </div>\r\n          </p>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Deals;","C:\\FINAL\\psi-frontend\\src\\components\\shoppingForm.jsx",["185","186","187","188"],"import React, { Component } from \"react\";\nimport ShoppingCartForm from \"./shoppingCartForm\";\nimport { getItems } from \"../services/itemService\";\nimport { getReceiptRaw, updateReceipt } from \"../services/receiptService\";\nimport Select from \"./common/select\";\nimport {\n  updateItemPrice,\n  addItemPrice,\n  deleteItemPrice,\n} from \"../services/itemPriceService\";\nimport ShoppingCartPage from \"./shoppingCartPage\";\n\nclass ShoppingForm extends Component {\n  state = {\n    types: [],\n    items: [],\n    data: { itemPrices: [] },\n    deleted: [],\n    index: \"a\",\n    validate: false,\n    shops: [],\n  };\n\n  async componentDidMount() {\n    try {\n      const types = [\n        { id: 1, name: \"Mesos gaminiai\" },\n        { id: 2, name: \"Juros gerybes\" },\n        { id: 3, name: \"Kepiniai\" },\n        { id: 4, name: \"Darzoves\" },\n        { id: 5, name: \"Vaisiai\" },\n        { id: 6, name: \"Pieno produktai\" },\n        { id: 7, name: \"Gerimai\" },\n        { id: 8, name: \"Saldumynai\" },\n        { id: 9, name: \"Uzkandziai\" },\n      ];\n      const shops = [\n        { id: 1, name: \"Iki\" },\n        { id: 2, name: \"Norfa\" },\n        { id: 3, name: \"Rimi\" },\n        { id: 4, name: \"Lidl\" },\n        { id: 5, name: \"Maxima\" },\n      ];\n\n      const items = await getItems();\n      this.setState({ types, items, shops });\n      console.log(items);\n      this.validate();\n    } catch (ex) {\n      this.props.history.replace(\"/not-found\");\n    }\n  }\n\n  validate() {\n    this.setState({validate:  true });\n  }\n\n  updateData = (id, name, value) => {\n    const data = { ...this.state.data };\n    data.itemPrices.map((x) => this.changeData(x, id, name, value));\n    this.setState({ data });\n    this.validate();\n  };\n  handleSave = async () => {\n    const data = { ...this.state.data };\n    console.log(data);\n  };\n\n  async saving(x) {\n    if (x.modified) {\n      await updateItemPrice(x.id, x.item.id, x.price, x.receiptId);\n    }\n    if (x.new) {\n      await addItemPrice(x.item.id, x.price, x.receiptId);\n    }\n  }\n\n  handleAdd = () => {\n    const data = { ...this.state.data };\n    const index = this.state.index;\n    const itemPrice = {\n      id: index,\n      item: { id: \"\" },\n      new: true,\n      type: \"\",\n      price: 0,\n      receiptId: this.state.data.id,\n    };\n    data.itemPrices.push(itemPrice);\n    const newIndex = index + \"a\";\n    this.setState({ data, index: newIndex });\n    this.validate();\n  };\n\n  handleShopChange = ({ currentTarget: input }) => {\n    const selectedShop = input.value;\n    let data = { ...this.state.data };\n    data.shop = selectedShop;\n    this.setState({ data, modified: true }, this.validate);\n  };\n\n  handleDelete = (id) => {\n    let deleted = [...this.state.deleted];\n    deleted.push(id);\n    const data = { ...this.state.data };\n    const filtered = data.itemPrices.filter((itemPrice) => itemPrice.id !== id);\n    data.itemPrices = filtered;\n    this.setState({ data, deleted });\n  };\n\n  changeData(a, id, name, value) {\n    if (a.id === id) {\n      switch (name) {\n        case \"name\":\n          a.item.id = parseFloat(value);\n          break;\n        case \"price\":\n          a.price = parseFloat(value);\n          break;\n        case \"type\":\n          a.item.type = parseFloat(value);\n          break;\n        default:\n      }\n      !a.new && (a.modified = true);\n      return a;\n    }\n    return a;\n  }\n\n  render() {\n    const { items, types, data } = this.state;\n    \n\n    return (\n      <div className=\"Box\">\n         <p className=\"Box_content\">\n        <div className=\"d-flex justify-content-between m-3\">\n          <h1>Shopping Cart{this.props.match.params.id}</h1>\n        </div>\n\n        {data.itemPrices.map((itemPrice) => (\n          <ShoppingCartForm\n            id={itemPrice.id}\n            items={items}\n            types={types}\n            key={itemPrice.id}\n            selectedName={itemPrice.item.id}\n            selectedPrice={itemPrice.price}\n            selectedType={itemPrice.item.type}\n            updateData={this.updateData}\n            onDelete={() => this.handleDelete(itemPrice.id)}\n          />\n        ))}\n        { (\n          <button className=\"btn btn-secondary btn-lg\" onClick={this.handleAdd}>\n            Add item\n          </button>\n        )}\n        <ShoppingCartPage\n          cart={data}\n          />\n          </p>\n      </div>\n    );\n  }\n}\n\nexport default ShoppingForm;\n","C:\\FINAL\\psi-frontend\\src\\components\\common\\protectedRoute.jsx",[],"C:\\FINAL\\psi-frontend\\src\\services\\httpService.js",["189"],"import axios from \"axios\";\n\naxios.interceptors.response.use(null, (error) => {\n  const expectedError =\n    error.response &&\n    error.response.status >= 400 &&\n    error.response.status < 500;\n\n  if (!expectedError) {\n    console.log(error);\n    alert(\"An unexpected error occurrred.\");\n  }\n\n  return Promise.reject(error);\n});\n\n// function setJwt(jwt) {\n//   axios.defaults.headers.common[\"x-auth-token\"] = jwt;\n// }\n\nexport default {\n  get: axios.get,\n  post: axios.post,\n  put: axios.put,\n  delete: axios.delete,\n};\n","C:\\FINAL\\psi-frontend\\src\\services\\receiptService.js",[],"C:\\FINAL\\psi-frontend\\src\\services\\userStatsService.js",["190","191","192","193"],"import http from \"./httpService\";\nimport auth from \"./authService\";\nimport _, { filter } from \"lodash\";\n\nconst apiEndpoint = \"https://localhost:5001/userstat\";\n\nexport async function getShopFrequency() {\n  let shops = await http.get(apiEndpoint + \"/shops\", auth.config);\n  const newShops = shops.data.data.map((x) => mapShop(x));\n  return newShops;\n}\n\nexport async function getItemsFrequency() {\n  let items = await http.get(apiEndpoint + \"/items\", auth.config);\n  let data = _.orderBy(items.data.data, \"itemFrequency\", \"desc\");\n  return data.slice(0, 5);\n}\n\nexport async function getDates() {\n  const datesRaw = await http.get(apiEndpoint + \"/dates\", auth.config);\n  const filtered = _.orderBy(datesRaw.data.data, \"date\", \"asc\");\n\n  let from = new Date(filtered[0].date);\n  let to = new Date(filtered[filtered.length - 1].date);\n  let mixed = [];\n  let obj;\n  let test;\n\n  for (var d = from; d <= to; d.setDate(d.getDate() + 1)) {\n    obj = filtered.find(\n      (x) => new Date(x.date).getTime() === new Date(d).getTime()\n    );\n\n    if (obj) {\n      for (var k = 1; k < 6; k++) {\n        if (!obj.shopsVisited.find((x) => x.shop === k))\n          obj.shopsVisited.push({ shop: k, amount: 0 });\n      }\n      mixed.push(obj);\n    } else {\n      mixed.push({\n        date: new Date(d),\n        shopsVisited: [\n          { shop: 1, amount: 0 },\n          { shop: 2, amount: 0 },\n          { shop: 3, amount: 0 },\n          { shop: 4, amount: 0 },\n          { shop: 5, amount: 0 },\n        ],\n      });\n    }\n  }\n  let dates = { Iki: [], Norfa: [], Lidl: [], Rimi: [], Maxima: [] };\n  for (var i = 0; i < mixed.length; i++) {\n    for (var j = 0; j < mixed[i].shopsVisited.length; j++) {\n      dates[mapShop({ frequentShop: mixed[i].shopsVisited[j].shop }).name].push(\n        {\n          t: convertDate(mixed[i].date),\n          y: mixed[i].shopsVisited[j].amount,\n        }\n      );\n    }\n  }\n  const data = {\n    datasets: [\n      {\n        label: \"iki\",\n        data: dates.Iki,\n        backgroundColor: \"rgba(38, 70, 83, 0.2)\",\n        borderColor: \"rgba(38, 70, 83, 1)\",\n      },\n      {\n        label: \"maxima\",\n        data: dates.Maxima,\n        backgroundColor: \"rgba(42, 157, 143, 0.2)\",\n        borderColor: \"rgba(42, 157, 143, 1)\",\n      },\n      {\n        label: \"lild\",\n        data: dates.Lidl,\n        backgroundColor: \"rgba(233, 196, 106, 0.2)\",\n        borderColor: \"rgba(233, 196, 106, 1)\",\n      },\n      {\n        label: \"rimi\",\n        data: dates.Rimi,\n        backgroundColor: \"rgba(244, 162, 97, 0.2)\",\n        borderColor: \"rgba(244, 162, 97, 1)\",\n      },\n      {\n        label: \"norfa\",\n        data: dates.Norfa,\n        backgroundColor: \"rgba(231, 111, 81, 0.2)\",\n        borderColor: \"rgba(231, 111, 81, 1)\",\n      },\n    ],\n  };\n\n  return data;\n}\n\nfunction convertDate(date) {\n  const newDate = formatDate(new Date(date));\n  return newDate;\n}\n\nexport function formatDate(date) {\n  var d = new Date(date),\n    month = \"\" + (d.getMonth() + 1),\n    day = \"\" + d.getDate(),\n    year = d.getFullYear();\n\n  if (month.length < 2) month = \"0\" + month;\n  if (day.length < 2) day = \"0\" + day;\n\n  return [year, month, day].join(\"-\");\n}\n\nfunction mapShop(item) {\n  switch (item.frequentShop) {\n    case 1:\n      item[\"name\"] = \"Iki\";\n      break;\n    case 2:\n      item[\"name\"] = \"Norfa\";\n      break;\n    case 3:\n      item[\"name\"] = \"Rimi\";\n      break;\n    case 4:\n      item[\"name\"] = \"Lidl\";\n      break;\n    case 5:\n      item[\"name\"] = \"Maxima\";\n      break;\n    default:\n      item[\"name\"] = \"Not Found\";\n  }\n  return item;\n}\n","C:\\FINAL\\psi-frontend\\src\\services\\itemService.js",[],"C:\\FINAL\\psi-frontend\\src\\services\\itemPriceService.js",[],"C:\\FINAL\\psi-frontend\\src\\services\\shoppingCartService.js",["194","195","196","197"],"C:\\FINAL\\psi-frontend\\src\\components\\common\\listGroup.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\receiptTable.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\common\\form.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\common\\pagination.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\common\\select.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\itemPriceForm.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\itemPriceTable.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\shoppingCartForm.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\dealTable.jsx",["198","199","200","201","202","203"],"import React, { Component } from \"react\";\r\nimport Table from \"./common/table\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimes, faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass DealTable extends Component {\r\n  columns = [\r\n     {\r\n      path: \"name\",  label: \"Item\",\r\n    },\r\n    { path: \"shop\", label: \"Shop\" },\r\n    {\r\n      path: \"date\",label: \"Date\",\r\n    },\r\n    {\r\n      path: \"price\",label: \"Change\"\r\n    },\r\n    {\r\n      label: \"\", key: \"arrow\", content: (price) => (\r\n        <div class={getChange(price.price)}></div>\r\n    )}\r\n  ];\r\n\r\n \r\n  \r\n  render() {\r\n    const { classes, receipts, onSort, sortColumn } = this.props;\r\n\r\n    return (\r\n      <Table \r\n        class=\"table-danger\" \r\n        columns={this.columns}\r\n        data={receipts}\r\n        sortColumn={sortColumn}\r\n        onSort={onSort}    \r\n      />\r\n    );\r\n  }\r\n}\r\nfunction getChange(price) {\r\n  if (price == 0)\r\n    return \"\"\r\n  else if (price > 0)\r\n    return \"GreenArrow\"\r\n  else\r\n    return \"RedArrow\"\r\n}\r\n\r\nexport default DealTable;\r\n","C:\\FINAL\\psi-frontend\\src\\components\\shoppingCartPage.jsx",["204","205","206","207"],"C:\\FINAL\\psi-frontend\\src\\components\\common\\table.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\common\\input.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\shoppingCartTable.jsx",["208","209","210","211"],"import React, { Component } from \"react\";\r\nimport Table from \"./common/table\";\r\nimport { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\r\nimport { faTimes, faInfoCircle } from \"@fortawesome/free-solid-svg-icons\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nclass ShoppingCartTable extends Component {\r\n  columns = [\r\n     {\r\n      path: \"name\",  label: \"Item\",\r\n    },\r\n    { path: \"shop\", label: \"Shop\" },\r\n    {\r\n      path: \"price\",label: \"Price\"}\r\n  ];\r\n  \r\n \r\n  \r\n  render() {\r\n    const { receipts, onSort, sortColumn } = this.props;\r\n\r\n    return (\r\n      <Table \r\n        columns={this.columns}\r\n        data={receipts}\r\n        sortColumn={sortColumn}\r\n        onSort={onSort}    \r\n      />\r\n    );\r\n  }\r\n}\r\nexport default ShoppingCartTable;\r\n","C:\\FINAL\\psi-frontend\\src\\components\\common\\tableBody.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\common\\tableHeader.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\userDetails.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\priceHistory.jsx",[],"C:\\FINAL\\psi-frontend\\src\\components\\registerForm.jsx",[],"C:\\FINAL\\psi-frontend\\src\\services\\userService.js",["212"],"C:\\FINAL\\psi-frontend\\src\\services\\jokeService.js",["213","214","215"],{"ruleId":"216","replacedBy":"217"},{"ruleId":"218","replacedBy":"219"},{"ruleId":"220","severity":1,"message":"221","line":39,"column":1,"nodeType":"222","endLine":46,"endColumn":3},{"ruleId":"223","severity":1,"message":"224","line":59,"column":27,"nodeType":"225","messageId":"226","endLine":59,"endColumn":35},{"ruleId":"227","severity":1,"message":"228","line":7,"column":3,"nodeType":"225","messageId":"229","endLine":7,"endColumn":13},{"ruleId":"227","severity":1,"message":"230","line":7,"column":10,"nodeType":"225","messageId":"229","endLine":7,"endColumn":20},{"ruleId":"227","severity":1,"message":"231","line":4,"column":10,"nodeType":"225","messageId":"229","endLine":4,"endColumn":23},{"ruleId":"227","severity":1,"message":"232","line":4,"column":25,"nodeType":"225","messageId":"229","endLine":4,"endColumn":38},{"ruleId":"227","severity":1,"message":"233","line":5,"column":8,"nodeType":"225","messageId":"229","endLine":5,"endColumn":14},{"ruleId":"227","severity":1,"message":"234","line":9,"column":3,"nodeType":"225","messageId":"229","endLine":9,"endColumn":18},{"ruleId":"220","severity":1,"message":"221","line":21,"column":1,"nodeType":"222","endLine":26,"endColumn":3},{"ruleId":"227","severity":1,"message":"235","line":3,"column":13,"nodeType":"225","messageId":"229","endLine":3,"endColumn":19},{"ruleId":"227","severity":1,"message":"236","line":27,"column":7,"nodeType":"225","messageId":"229","endLine":27,"endColumn":11},{"ruleId":"237","severity":1,"message":"238","line":31,"column":7,"nodeType":"239","messageId":"240","endLine":31,"endColumn":66},{"ruleId":"237","severity":1,"message":"241","line":36,"column":36,"nodeType":"239","messageId":"240","endLine":36,"endColumn":55},{"ruleId":"227","severity":1,"message":"242","line":1,"column":8,"nodeType":"225","messageId":"229","endLine":1,"endColumn":19},{"ruleId":"227","severity":1,"message":"243","line":7,"column":7,"nodeType":"225","messageId":"229","endLine":7,"endColumn":15},{"ruleId":"244","severity":1,"message":"245","line":34,"column":23,"nodeType":"246","messageId":"247","endLine":34,"endColumn":25},{"ruleId":"248","severity":1,"message":"249","line":93,"column":3,"nodeType":"250","messageId":"251","endLine":109,"endColumn":4},{"ruleId":"227","severity":1,"message":"252","line":3,"column":10,"nodeType":"225","messageId":"229","endLine":3,"endColumn":25},{"ruleId":"227","severity":1,"message":"253","line":4,"column":10,"nodeType":"225","messageId":"229","endLine":4,"endColumn":17},{"ruleId":"227","severity":1,"message":"254","line":4,"column":19,"nodeType":"225","messageId":"229","endLine":4,"endColumn":31},{"ruleId":"227","severity":1,"message":"255","line":5,"column":10,"nodeType":"225","messageId":"229","endLine":5,"endColumn":14},{"ruleId":"227","severity":1,"message":"256","line":28,"column":13,"nodeType":"225","messageId":"229","endLine":28,"endColumn":20},{"ruleId":"244","severity":1,"message":"257","line":42,"column":13,"nodeType":"246","messageId":"247","endLine":42,"endColumn":15},{"ruleId":"227","severity":1,"message":"258","line":2,"column":10,"nodeType":"225","messageId":"229","endLine":2,"endColumn":18},{"ruleId":"227","severity":1,"message":"259","line":3,"column":8,"nodeType":"225","messageId":"229","endLine":3,"endColumn":17},{"ruleId":"227","severity":1,"message":"230","line":7,"column":10,"nodeType":"225","messageId":"229","endLine":7,"endColumn":20},{"ruleId":"244","severity":1,"message":"257","line":95,"column":60,"nodeType":"246","messageId":"247","endLine":95,"endColumn":62},{"ruleId":"227","severity":1,"message":"252","line":3,"column":10,"nodeType":"225","messageId":"229","endLine":3,"endColumn":25},{"ruleId":"227","severity":1,"message":"253","line":4,"column":10,"nodeType":"225","messageId":"229","endLine":4,"endColumn":17},{"ruleId":"227","severity":1,"message":"254","line":4,"column":19,"nodeType":"225","messageId":"229","endLine":4,"endColumn":31},{"ruleId":"227","severity":1,"message":"255","line":5,"column":10,"nodeType":"225","messageId":"229","endLine":5,"endColumn":14},{"ruleId":"220","severity":1,"message":"221","line":27,"column":1,"nodeType":"222","endLine":29,"endColumn":3},{"ruleId":"227","severity":1,"message":"260","line":1,"column":8,"nodeType":"225","messageId":"229","endLine":1,"endColumn":12},{"ruleId":"227","severity":1,"message":"261","line":2,"column":8,"nodeType":"225","messageId":"229","endLine":2,"endColumn":12},{"ruleId":"227","severity":1,"message":"262","line":4,"column":7,"nodeType":"225","messageId":"229","endLine":4,"endColumn":18},"no-native-reassign",["263"],"no-negated-in-lhs",["264"],"import/no-anonymous-default-export","Assign object to a variable before exporting as module default","ExportDefaultDeclaration","no-self-assign","'validate' is assigned to itself.","Identifier","selfAssignment","no-unused-vars","'formatDate' is defined but never used.","unusedVar","'withRouter' is defined but never used.","'getReceiptRaw' is defined but never used.","'updateReceipt' is defined but never used.","'Select' is defined but never used.","'deleteItemPrice' is defined but never used.","'filter' is defined but never used.","'test' is defined but never used.","no-loop-func","Function declared in a loop contains unsafe references to variable(s) 'd'.","ArrowFunctionExpression","unsafeRefs","Function declared in a loop contains unsafe references to variable(s) 'k'.","'authService' is defined but never used.","'shopCart' is assigned a value but never used.","eqeqeq","Expected '!==' and instead saw '!='.","BinaryExpression","unexpected","default-case","Expected a default case.","SwitchStatement","missingDefaultCase","'FontAwesomeIcon' is defined but never used.","'faTimes' is defined but never used.","'faInfoCircle' is defined but never used.","'Link' is defined but never used.","'classes' is assigned a value but never used.","Expected '===' and instead saw '=='.","'getDeals' is defined but never used.","'ListGroup' is defined but never used.","'http' is defined but never used.","'auth' is defined but never used.","'apiEndpoint' is assigned a value but never used.","no-global-assign","no-unsafe-negation"]